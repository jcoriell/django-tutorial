{"title":"Django Tutorial","markdown":{"headingText":"Creating a View","containsRefs":false,"markdown":"\nIn this file, you will be shown how to create a class based view. There are also function based views in django which is not covered here. Note that there are also shortcuts to accomplish much of what we do here instead of doing it manually.\n\n\n### Creating the Template to Graphically Represent the View\n\n1. Navigate to the `students/` directory and create a folder called `templates`. This folder will contain the HTML files that we want to render in our web browser.\n\n2. Inside of the `students/templates/` folder, create an html file called `all_students.html`. Place the following code inside of it. Django has its own templating lanaguage, so if you're familiar with HTML, you will see some notations that may not make sense. Usage of the templating language is usually marked with double curly braces `{{ somthing in here }}` or curly braces and a percentage symbol `{% something in here %}`.\n\n    The values written in these constructs will typically be passed to this html file via context.\n\n    ```html\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Student List</title>\n    </head>\n    <body>\n        <h1>Student List</h1>\n\n        <ul>\n            {% for student in students %}\n                <li>{{ student.first_name }} {{ student.last_name }}</li>\n            {% empty %}\n                <li>No students available.</li>\n            {% endfor %}\n        </ul>\n\n    </body>\n    </html>\n\n    ```\n\n\n### Creating the View\n\n1. Now navigate to `students/views.py` and modify the imports as shown:\n\n    ```python\n    from django.shortcuts import render\n    from django.views import View\n    from . import models\n    ```\n\n2. Create a class called `GetAllStudents` that inherits from the django View class. We make a query to the database in `get()` method of this class and then return a rendering of an html file that has access to some context we pass it. Note that in the context `{'students': students}` the key to this dictionary needs to match the reference in the html file. The reference in the html file is in the for loop `{% for student in students %}`\n\n    ```python\n\n    class GetAllStudents(View):\n        \n        def get(self, request):  \n            # this takes in self since it is a method \n            # and a second parameter will be passed in that represents the HTTP request that was made\n            # We don't use either in this method, but we still need to provide the parameters\n            \n            # make a request to the database for all of the student objects\n            students = models.Student.objects.all()\n            \n            # return a rendering of the all_students.html file with the context {\"students\": students}\n            return render(request, 'all_students.html', {'students': students})\n\n    ```\n\n\n### Creating the URL to Trigger the View\n\n1. Navigate to `students/urls.py` and make the following addition to the `urlpatterns` list and the imports. Notice how we make a reference to the view we created in the views.py file.\n\n\n\n    ```python\n    from django.urls import path\n    from . import views\n\n    urlpatterns = [\n        # the endpoint is 127.0.0.1:8000/student/all/ since we included this file in `tutorial/urls.py`\n        path(\"all/\", views.GetAllStudents.as_view(), name=\"all\"),\n    ]\n    ```\n\n2. To trigger this view, we need to navigate to [http://127.0.0.1:8000/student/all/](http://127.0.0.1:8000/student/all/) while the server is running. At this point, it should show that there are no students created.\n\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":{"html":"default"},"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"06 Creating a View.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.554","title":"Django Tutorial"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}